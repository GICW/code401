{"ast":null,"code":"var _jsxFileName = \"/home/qxie/401/class-29/solution/lab/src/app.js\",\n  _s = $RefreshSig$();\nimport React, { useReducer, useEffect } from 'react';\nimport axios from 'axios';\nimport './app.scss';\n\n// Let's talk about using index.js and some other name in the component folder\n// There's pros and cons for each way of doing this ...\nimport Header from './components/header';\nimport Footer from './components/footer';\nimport Form from './components/form';\nimport Results from './components/results';\nimport History from './components/history';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  data: null,\n  request: {},\n  loading: false,\n  history: []\n};\nconst reducer = (state = initialState, action) => {\n  const {\n    type,\n    payload\n  } = action;\n  switch (type) {\n    case 'START_REQUEST':\n      return {\n        ...state,\n        request: payload,\n        loading: true\n      };\n    case 'FINISH_REQUEST':\n      return {\n        ...state,\n        loading: false,\n        data: payload,\n        history: [...state.history, {\n          request: state.request,\n          data: payload\n        }]\n      };\n    case 'SHOW_HISTORY':\n      return {\n        ...state,\n        loading: 'history',\n        data: payload.data,\n        request: payload.request\n      };\n    default:\n      return state;\n  }\n};\nfunction App() {\n  _s();\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const callApi = async requestParams => {\n    const action = {\n      type: 'START_REQUEST',\n      payload: requestParams\n    };\n    dispatch(action);\n  };\n  const showHistoryData = entry => {\n    const action = {\n      type: 'SHOW_HISTORY',\n      payload: entry\n    };\n    dispatch(action);\n  };\n  useEffect(async () => {\n    if (state.loading === true && state.request.method && state.request.url) {\n      const response = await axios({\n        method: state.request.method,\n        url: state.request.url\n      });\n      const action = {\n        type: 'FINISH_REQUEST',\n        payload: response.data\n      };\n      dispatch(action);\n    }\n  }, [state.request]);\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Request Method:\", state.request.method]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"URL: \", state.request.url]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      handleApiCall: callApi\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [/*#__PURE__*/_jsxDEV(History, {\n        history: state.history,\n        showHistory: showHistoryData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Results, {\n        loading: state.loading,\n        data: state.data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"bgCdjuTOmPdSBRwTap80EFd9Y3U=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useReducer","useEffect","axios","Header","Footer","Form","Results","History","jsxDEV","_jsxDEV","initialState","data","request","loading","history","reducer","state","action","type","payload","App","_s","dispatch","callApi","requestParams","showHistoryData","entry","method","url","response","Fragment","children","fileName","_jsxFileName","lineNumber","columnNumber","handleApiCall","showHistory","_c","$RefreshReg$"],"sources":["/home/qxie/401/class-29/solution/lab/src/app.js"],"sourcesContent":["import React, {useReducer, useEffect} from 'react';\nimport axios from 'axios';\n\nimport './app.scss';\n\n// Let's talk about using index.js and some other name in the component folder\n// There's pros and cons for each way of doing this ...\nimport Header from './components/header';\nimport Footer from './components/footer';\nimport Form from './components/form';\nimport Results from './components/results';\nimport History from './components/history';\n\nconst initialState = {\n  data: null,\n  request: {},\n  loading: false,\n  history: [],\n};\n\nconst reducer = (state=initialState, action) => {\n\n  const {type, payload} = action;\n\n  switch(type) {\n  case 'START_REQUEST':\n    return { ...state, request: payload, loading: true };\n  case 'FINISH_REQUEST':\n    return {\n      ...state,\n      loading: false,\n      data: payload,\n      history: [...state.history, { request: state.request, data: payload } ],\n    };\n  case 'SHOW_HISTORY':\n    return {\n      ...state,\n      loading: 'history',\n      data: payload.data,\n      request: payload.request,\n    };\n  default:\n    return state;\n  }\n\n};\n\nfunction App() {\n\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const callApi = async (requestParams) => {\n\n    const action = {\n      type: 'START_REQUEST',\n      payload: requestParams,\n    };\n\n    dispatch(action);\n\n  };\n\n  const showHistoryData = (entry) => {\n\n    const action = {\n      type: 'SHOW_HISTORY',\n      payload: entry,\n    };\n\n    dispatch(action);\n\n  };\n\n  useEffect( async () => {\n\n    if( state.loading === true && state.request.method && state.request.url ) {\n\n      const response = await axios({\n        method: state.request.method,\n        url: state.request.url,\n      });\n\n      const action = {\n        type: 'FINISH_REQUEST',\n        payload: response.data,\n      };\n\n      dispatch(action);\n\n    }\n\n  }, [state.request]);\n\n  return (\n    <React.Fragment>\n      <Header />\n      <div>Request Method:{state.request.method}</div>\n      <div>URL: {state.request.url}</div>\n      <Form handleApiCall={callApi} />\n      <main>\n        <History history={state.history} showHistory={showHistoryData} />\n        <Results loading={state.loading} data={state.data} />\n      </main>\n      <Footer />\n    </React.Fragment>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}