{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nconst useForm = (callback, defaultValues = {}) => {\n  _s();\n  const [values, setValues] = useState({});\n  const handleSubmit = event => {\n    event.preventDefault();\n    callback(values);\n    event.target.reset();\n  };\n  const handleChange = event => {\n    let name, value;\n    if (typeof event === 'object') {\n      event.persist();\n      name = event.target.name;\n      value = event.target.value;\n    } else {\n      name = 'difficulty';\n      value = event;\n    }\n    if (parseInt(value)) {\n      value = parseInt(value);\n    }\n    setValues(values => ({\n      ...values,\n      [name]: value\n    }));\n  };\n  useEffect(() => {\n    setValues(defaultValues);\n  }, [defaultValues]);\n  return {\n    handleChange,\n    handleSubmit,\n    values\n  };\n};\n_s(useForm, \"4c1Ci3oJ83EEKxNRiCpxRYlnLCc=\");\nexport default useForm;","map":{"version":3,"names":["useState","useEffect","useForm","callback","defaultValues","_s","values","setValues","handleSubmit","event","preventDefault","target","reset","handleChange","name","value","persist","parseInt"],"sources":["/home/qxie/401/class-34/solution/src/hooks/form.js"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nconst useForm = (callback, defaultValues={}) => {\n\n  const [values, setValues] = useState({});\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    callback(values);\n    event.target.reset();\n  };\n\n  const handleChange = (event) => {\n    let name, value;\n    if (typeof(event) === 'object'){\n      event.persist();\n      name = event.target.name;\n      value = event.target.value;\n    } else {\n      name = 'difficulty';\n      value = event;\n    }\n\n    if (parseInt(value)) {\n      value = parseInt(value);\n    }\n\n    setValues(values => ({ ...values, [name]: value }));\n  };\n\n  useEffect( () => {\n    setValues( defaultValues );\n  }, [defaultValues]);\n\n  return {\n    handleChange,\n    handleSubmit,\n    values,\n  };\n};\n\nexport default useForm;\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAE3C,MAAMC,OAAO,GAAGA,CAACC,QAAQ,EAAEC,aAAa,GAAC,CAAC,CAAC,KAAK;EAAAC,EAAA;EAE9C,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGP,QAAQ,CAAC,CAAC,CAAC,CAAC;EAExC,MAAMQ,YAAY,GAAIC,KAAK,IAAK;IAC9BA,KAAK,CAACC,cAAc,CAAC,CAAC;IACtBP,QAAQ,CAACG,MAAM,CAAC;IAChBG,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC;EACtB,CAAC;EAED,MAAMC,YAAY,GAAIJ,KAAK,IAAK;IAC9B,IAAIK,IAAI,EAAEC,KAAK;IACf,IAAI,OAAON,KAAM,KAAK,QAAQ,EAAC;MAC7BA,KAAK,CAACO,OAAO,CAAC,CAAC;MACfF,IAAI,GAAGL,KAAK,CAACE,MAAM,CAACG,IAAI;MACxBC,KAAK,GAAGN,KAAK,CAACE,MAAM,CAACI,KAAK;IAC5B,CAAC,MAAM;MACLD,IAAI,GAAG,YAAY;MACnBC,KAAK,GAAGN,KAAK;IACf;IAEA,IAAIQ,QAAQ,CAACF,KAAK,CAAC,EAAE;MACnBA,KAAK,GAAGE,QAAQ,CAACF,KAAK,CAAC;IACzB;IAEAR,SAAS,CAACD,MAAM,KAAK;MAAE,GAAGA,MAAM;MAAE,CAACQ,IAAI,GAAGC;IAAM,CAAC,CAAC,CAAC;EACrD,CAAC;EAEDd,SAAS,CAAE,MAAM;IACfM,SAAS,CAAEH,aAAc,CAAC;EAC5B,CAAC,EAAE,CAACA,aAAa,CAAC,CAAC;EAEnB,OAAO;IACLS,YAAY;IACZL,YAAY;IACZF;EACF,CAAC;AACH,CAAC;AAACD,EAAA,CArCIH,OAAO;AAuCb,eAAeA,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}